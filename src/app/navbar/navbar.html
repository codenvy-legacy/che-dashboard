<!--

    Copyright (c) 2015 Codenvy, S.A.
    All rights reserved. This program and the accompanying materials
    are made available under the terms of the Eclipse Public License v1.0
    which accompanies this distribution, and is available at
    http://www.eclipse.org/legal/epl-v10.html

    Contributors:
      Codenvy, S.A. - initial API and implementation

-->

<md-toolbar class="flex-shrink-none">
  <md-progress-linear md-mode="indeterminate" ng-hide="navbarCtrl.updated" ></md-progress-linear>
  <div ng-show="navbarCtrl.updated">
  <section class="md-toolbar-tools" layout="column" layout-align="center center">
    <img class="codenvy-logo" src="https://codenvy.com/images/logo@3x.png" alt="logo">
  </section>
  <section layout="column" layout-align="center center">
    <cdvy-button-dropdown cdvy-button-dropdown-href="#/create-project" cdvy-button-dropdown-label="Create Project" cdvy-button-dropdown-controller="navbarCtrl" ng-if="navbarCtrl.isSimpleUser()"></cdvy-button-dropdown>
  </section>
  <section layout="column" layout-align="center center">&nbsp;</section>
  <md-divider md-theme="factory-theme" ng-show="navbarCtrl.isSimpleUser()"></md-divider>

  <section class="left-sidebar-menu" layout="column" layout-align="center center">
    <md-list layout="column" ng-if="navbarCtrl.isSimpleUser()">
      <md-item>
        <md-item-content ng-show="navbarCtrl.displayLoginItem">
          <div class="md-tile-content">
            <md-button flex ng-href="#/login" layout-align="left"><i class="fa fa-user fa-lg icon">&nbsp;</i>Login</md-button>
          </div>
        </md-item-content>

        <md-item-content>
          <div class="md-tile-content">
            <md-button flex ng-href="#/" layout-align="left"><i class="fa fa-th-large fa-lg icon">&nbsp;</i>Dashboard</md-button>
          </div>
        </md-item-content>
        <md-item-content>
          <div class="md-tile-content">
            <md-button flex ng-href="#/projects" layout-align="left"><i class="fa fa-folder-open fa-lg icon">&nbsp;</i>Projects</md-button>
          </div>
        </md-item-content>
        <md-item-content>
          <div class="md-tile-content">
            <md-button flex ng-href="#/factories" layout-align="left"><i class="fa fa-tasks fa-lg icon">&nbsp;</i>Factories</md-button>
          </div>
        </md-item-content>
      </md-item>
    </md-list>
  </section>
  <md-divider md-theme="factory-theme"></md-divider>
  <div class="navbar-menu" ng-if="navbarCtrl.profile.attributes" ng-init="isExpand=true" ng-show="navbarCtrl.isSimpleUser()">
    <div>
      <img class="developers-face" gravatar-src="navbarCtrl.email">
      <span>{{navbarCtrl.fullName}}</span>
      <i class="material-design icon-ic_expand_more_24px md-tab-themed" ng-click='isExpand=!isExpand'>&nbsp;</i>
    </div>
    <section class="animation" layout="column" layout-align="center center" ng-if="isExpand" >
      <md-list layout="column">
        <md-item>
          <md-item-content>
            <md-button flex ng-href="#/account" layout-align="left">Account</md-button>
          </md-item-content>
          <md-item-content>
            <md-button flex ng-href="#/subscriptions" layout-align="left">Subscriptions</md-button>
          </md-item-content>
          <md-item-content>
            <md-button flex ng-href="#/billing" layout-align="left">Billing and Invoices</md-button>
          </md-item-content>
        </md-item>
      </md-list>
    </section>
  </div>
  <md-divider md-theme="factory-theme" ng-if="navbarCtrl.userIsAdmin()"></md-divider>

  <div class="navbar-menu" ng-if="navbarCtrl.userIsAdmin()">
    <div>
      <span>On-Prem Admin</span>
      <i class="material-design icon-ic_expand_more_24px md-tab-themed" ng-click="navbarCtrl.flipOnpremAdminExpanded()">&nbsp;</i>
    </div>
    <section class="animation" layout="column" layout-align="center center" ng-if="navbarCtrl.onpremAdminExpanded" >
      <md-list layout="column">
        <md-item>
          <md-item-content>
            <md-button flex ng-href="#/onpremises/admin/bridge" layout-align="left">Bridge to Codenvy.com</md-button>
          </md-item-content>
          <md-item-content>
            <md-button flex ng-href="#/onpremises/admin/installation" layout-align="left">Your Local Installation</md-button>
          </md-item-content>
        </md-item>
      </md-list>
    </section>
  </div>
  <md-divider md-theme="factory-theme"></md-divider>
  </div>
</md-toolbar>


